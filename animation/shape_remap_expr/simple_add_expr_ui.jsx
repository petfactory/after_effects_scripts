function replaceAll(find, replace, str) {  return str.replace(new RegExp(find, 'g'), replace);}function myScript(thisObj){    function myScript_buildUI(thisObj)    {        var myPanel = (thisObj instanceof Panel) ? thisObj : new Window("palette", "Add expr", [0, 0, 300, 300]);                add_exp_button = myPanel.add ("button", undefined, "Add expression");        add_exp_button.alignment = ["fill","top"];                   var exp_edittext = myPanel.add ("edittext", undefined, "", {multiline: true});        //for(a in exp_edittext) { $.writeln(a); }                exp_edittext.alignment = ["fill","fill"];           add_exp_button.onClick = function()        {            var comp = app.project.activeItem;            var layer = comp.selectedLayers[0];                        /*                http://stackoverflow.com/questions/1144783/replacing-all-occurrences-of-a-string-in-javascript            */                        var t = exp_edittext.text;                        var t = replaceAll("\n", "\\n", t);            var t = replaceAll("”", "\\\"", t);            var t = replaceAll("“", "\\\"", t);                        //var t = t.split("\n").join("\\n");            //var t = t.split("”").join("\\\"");            //var t= t.split("“").join("\\\"");                                    $.writeln(t);            var a = "layer.property(\"Opacity\").expression = \""+t+"\"";            eval(a)                    }            //Setup panel sizing and make panel resizable        myPanel.layout.layout(true);        myPanel.layout.resize();        myPanel.onResizing = myPanel.onResize = function () {this.layout.resize();}        return myPanel;    }    var myScriptPal = myScript_buildUI(thisObj);     if ((myScriptPal != null) && (myScriptPal instanceof Window))    {        myScriptPal.center();        myScriptPal.show();    }}      myScript(this);//var a = thisComp.layer(\"Null 1\").effect(\"Slider Control\")(\"Slider\"); a+3.14;